{% form_theme form '@CookieConsent/form/cookie_consent_theme.html.twig' %}

{#{% block script %}#}
{#    <script type="text/javascript" src="{{ asset('bundles/chcookieconsent/js/cookie_consent.js') }}"></script>#}
{#{% endblock %}#}

<div class="cconsent-wrapper cconsent--fixed cconsent--{{ position }} {% if simplified %}cconsent--simplified{% endif %} JS--Wrapper-cookieConsent">
    <div class="container">
        <div class="cconsent-body">
            {% block title %}
                <div class="cconsent-description">
                    <p>{{ 'cookie_consent_translation.title'|trans({ '{{ link }}': privacyPolicyUrl}, 'CookieConsentBundle')|raw }}</p>
                </div>
            {% endblock %}

            <div class="cconsent-form">
                {{ form_start(form, {'attr': {'class': 'JS--Wrapper-cookieConsentForm'}}) }}
                <div class="JS--Wrapper-categoryGroup cconsent-category-group">
                    <div class="cconsent-category-item">
                        <div class="custom-control custom-switch">
                            <input type="checkbox" id="_necessary" name="_necessary" required="required" class="custom-control-input" checked disabled>
                            <label class="custom-control-label" for="_necessary">&nbsp;
                                <span class="invalid-feedback"></span>
                            </label>
                        </div>
                        <div>
                            <h5 class="cconsent-category-title">{{ ('cookie_consent_translation.necessary.title')|trans({}, 'CookieConsentBundle') }}</h5>
                            <small class="cconsent-category-description">{{ ('cookie_consent_translation.necessary.description')|trans({}, 'CookieConsentBundle') }}</small>
                        </div>
                    </div>

                    {% for child in form %}
                        {% if child.vars.block_prefixes[0] != 'button' %}
                            <div class="cconsent-category-item">
                                {{ form_row(child) }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>

                    <div class="cconsent-actions vertical-row">
                        {{ form_rest(form) }}
                    </div>


{#                    {% if not simplified %}#}
{#                        {% block toggle_details %}#}
{#                            <div class="d-flex align-self-end mt-2">#}
{#                                <div class="JS--Button-toggleDetails ch-cookie-consent__toggle-detailsX mb-0X">#}
{#                                    <span class="ch-cookie-consent__toggle-details-show">{{ 'cookie_consent_translation.show_details'|trans({}, 'CookieConsentBundle') }}</span>#}
{#                                    <span class="ch-cookie-consent__toggle-details-hide">{{ 'cookie_consent_translation.hide_details'|trans({}, 'CookieConsentBundle') }}</span>#}
{#                                </div>#}
{#                            </div>#}
{#                        {% endblock %}#}
{#                    {% endif %}#}
                {{ form_end(form) }}
            </div>
        </div>

    </div>
</div>
